{
  "namespace": "redstone",
"chest_label": {
    "type": "label",
    "offset": [ 12, 2 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "text": "$container_title",
    "size": [ "90%", "default" ],
    "font_size": "small",
    "color": "$title_text_color",
    "layer": 2
  },

  "custom_chest_grid_item@common.container_item": {
    "$item_collection_name": "container_items",
    "size": [ 17, 17 ],
    "$cell_image_size|default": [ 17, 17 ],
    "$item_renderer_panel_size|default": [ 17, 17 ],
    "$item_renderer_size|default": [ 15, 15 ]
  },

  "custom_inventory_grid_item@common.container_item": {
    "$item_collection_name": "inventory_items",
    "size": [ 17, 17 ],
    "$cell_image_size|default": [ 17, 17 ],
    "$item_renderer_panel_size|default": [ 17, 17 ],
    "$item_renderer_size|default": [ 15, 15 ]
  },

  "custom_hotbar_grid_item@common.container_item": {
    "$item_collection_name": "hotbar_items",
    "size": [ 17, 17 ],
    "$cell_image_size|default": [ 17, 17 ],
    "$item_renderer_panel_size|default": [ 17, 17 ],
    "$item_renderer_size|default": [ 15, 15 ]
  },

  "custom_hotbar_grid": {
    "type": "grid",
    "size": [ 153, 17 ],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "offset": [ 0, -5 ],
    "grid_dimensions": [ 9, 1 ],
    "grid_item_template": "redstone.custom_hotbar_grid_item",
    "collection_name": "hotbar_items"
  },

  "custom_chest_grid": {
    "type": "grid",
    "size": [ 153, 119 ],
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "grid_dimensions": [ 9, 7 ],
    "grid_item_template": "redstone.custom_chest_grid_item",
    "collection_name": "container_items",
    "$item_collection_name": "container_items"
  },

  "custom_inventory_grid": {
    "type": "grid",
    "size": [ 153, 51 ],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "offset": [ 0, -26 ],
    "grid_dimensions": [ 9, 3 ],
    "grid_item_template": "redstone.custom_inventory_grid_item",
    "collection_name": "inventory_items",
    "$item_collection_name": "inventory_items"
  },

  "custom_inventory_panel": {
    "type": "panel",
    "size": [ 88, 83 ],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "controls": [
      { "custom_inventory_grid@redstone.custom_inventory_grid": {} }
    ]
  },

  "custom_inventory_panel_bottom_half": {
    "type": "panel",
    "size": [ "100%", 93 ],
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "controls": [
      { "custom_inventory_panel@redstone.custom_inventory_panel": {} },
      {
        "inventory_label@common.section_heading_label": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 12, 8 ],
          "layer": 2,
          "text": "container.inventory",
          "font_size": "small",
          "font_type": "MinecraftTen"
        }
      }
    ]
  },

  "custom_large_panel_top_half": {
    "type": "panel",
    "size": [ "100%", 200 ],
    "offset": [ 0, 3 ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "controls": [
      { "chest_label@redstone.chest_label": {} },
      {
        "custom_chest_grid.first_grid@redstone.custom_chest_grid": {
          "offset": [ 0, 10 ]
        }
      }
    ]
  },

  "selected_item_details@common.selected_item_details": {
    "offset": [ 0, 0 ]
  },

  "custom_large_panel": {
    "type": "panel",
    "controls": [
      { "container_gamepad_helpers@common.container_gamepad_helpers": {} },
      {
        "flying_item_renderer@common.flying_item_renderer": {
          "layer": 14
        }
      },
      {
        "selected_item_details_factory@common.selected_item_details_factory": {
          "control_name": "@redstone.selected_item_details"
        }
      },
      {
        "item_lock_notification_factory@common.item_lock_notification_factory": {
          "control_name": "@common.item_lock_notification"
        }
      },

      {
        "root_panel@common.root_panel": {
          "size": [ 176, 217 ],
          "layer": 1,
          "controls": [
            {
              "common_panel@common.common_panel": {
                "$show_close_button": false
              }
            },
            {
              "close_button_holder":{
                "type": "stack_panel",
                "anchor_from": "top_right",
                "anchor_to": "top_right",
                "offset": [177, 2],
                "$close_button_panel_size":[20, 20],
                "controls": [{"close@common.close_button": {
                    "controls": [
                        {"default@common.close_button_panel": {"$close_button_texture": "textures/ui/close", "$button_alpha": 0.5}},
                        {"hover@common.close_button_panel": {"$close_button_texture": "textures/ui/close_hover", "$button_alpha": 0.5}},
                        {"pressed@common.close_button_panel": {"$close_button_texture": "textures/ui/close_hover", "$button_alpha": 0.5}}
                    ]
                }}]
            }
            },
            
            {
              "chest_panel": {
                "type": "panel",
                "layer": 6,
                "controls": [
                  { "custom_large_panel_top_half@redstone.custom_large_panel_top_half": {} },
                  
                  { "custom_inventory_panel_bottom_half@redstone.custom_inventory_panel_bottom_half": {} },
                  { "custom_hotbar_grid@redstone.custom_hotbar_grid": {} },
                  { "inventory_take_progress_icon_button@common.inventory_take_progress_icon_button": {} },
                  {
                    "common_panel@common.common_panel": {
                      "size": [26,130],
                      "offset": [26,8],
                      "anchor_from": "right_middle",
                      "anchor_to": "right_middle",
                      "$show_close_button":false
                    }
                  },
                  {
                    "label": {
                      "type": "label",
                      "anchor_from": "right_middle",
                      "anchor_to": "right_middle",
                      "offset": [ 20, -45 ],
                      "layer": 6,
                      "text": "§aFilter\nItem",
                      "font_size": "small",
                      "font_type": "MinecraftTen"
                    }
                  },
                  {
                    "stack_panel": {
                      "type": "stack_panel",
                      "orientation": "vertical",
                      "offset": [22,8],
                      "size": [18, 120],
                      "anchor_from": "right_middle",
                      "anchor_to": "right_middle",
                      "collection_name": "container_items",
                      "controls": [
                        {
                          "grid_item_filter@redstone.custom_chest_grid_item": {
                            "collection_index": 75
                          }
                        },
                        {
                          "grid_item4@redstone.custom_chest_grid_item": {
                            "collection_index": 66
                          }
                        },
                        {
                          "grid_item5@redstone.custom_chest_grid_item": {
                            "collection_index": 67
                          }
                        },
                        {
                          "grid_item6@redstone.custom_chest_grid_item": {
                            "collection_index": 68
                          }
                        },
                        {
                          "grid_item1@redstone.custom_chest_grid_item": {
                            "collection_index": 65
                          }
                        },
                        {
                          "grid_item2@redstone.custom_chest_grid_item": {
                            "collection_index": 63
                          }
                        },
                        {
                          "grid_item3@redstone.custom_chest_grid_item": {
                            "collection_index": 64
                          }
                        }
                      ]
                    }

                  },
                  {
                    "common_panel1@common.common_panel": {
                      "size": [45,24],
                      "offset": [71,27],
                      "anchor_from": "right_middle",
                      "anchor_to": "right_middle",
                      "$show_close_button":false
                    }
                  },
                  {
                    "horizontal_panel": {
                      "type": "stack_panel",
                      "orientation": "horizontal",
                      "offset": [65,27],
                      "size": [34, 17],
                      "anchor_from": "right_middle",
                      "anchor_to": "right_middle",
                      "collection_name": "container_items",
                      "controls": [
                        {
                          "grid_item7@redstone.custom_chest_grid_item": {
                            "collection_index": 73
                          }
                        },
                        {
                          "grid_item8@redstone.custom_chest_grid_item": {
                            "collection_index": 74
                          }
                        }
                      ]
                    }
                  },
                  {
                    "common_panel2@common.common_panel": {
                      "size": [26,76],
                      "offset": [-26,70],
                      "anchor_from": "left_middle",
                      "anchor_to": "left_middle",
                      "$show_close_button":false
                    }
                  },
                  {
                    "stack_panel1": {
                      "type": "stack_panel",
                      "orientation": "vertical",
                      "offset": [-22,70],
                      "size": [18, 68],
                      "anchor_from": "left_middle",
                      "anchor_to": "left_middle",
                      "collection_name": "container_items",
                      "controls": [
                        {
                          "grid_item4@redstone.custom_chest_grid_item": {
                            "collection_index": 70
                          }
                        },
                        {
                          "grid_item5@redstone.custom_chest_grid_item": {
                            "collection_index": 71
                          }
                        },
                        {
                          "grid_item6@redstone.custom_chest_grid_item": {
                            "collection_index": 72
                          }
                        },
                        {
                          "grid_item1@redstone.custom_chest_grid_item": {
                            "collection_index": 69
                          }
                        }
                      ]
                    }

                  }
                ]
              }
            },
            { "inventory_selected_icon_button@common.inventory_selected_icon_button": {} },
            { "gamepad_cursor@common.gamepad_cursor_button": {} }
          ]
        }
      }
    ]
  },

  "hopper_screen@common.inventory_screen_common": {
    "$close_on_player_hurt|default": true,
    "$use_custom_pocket_toast|default": false,
    "$atitle": "$container_title",
    "close_on_player_hurt": "$close_on_player_hurt",
    "use_custom_pocket_toast": "$use_custom_pocket_toast",
    "modifications": [
      {
        "array_name": "variables",
        "operation": "insert_back",
        "value": [
          {
            "requires": "(not (($atitle - '§c§h§e§s§t') = $atitle))",
            "$screen_content": "redstone.custom_large_panel",
            "$screen_bg_content": "common.screen_background",
            "$screen_background_alpha": 0.4
          },
    
          {
            "requires": "(($atitle - '§c§h§e§s§t') = $atitle)",
            "$screen_label": "redstone.hopper_label",
            "$screen_dimensions": [ 176, 133 ],
            "$grid_dimensions": [ 5, 1 ],
            "$grid_offset": [ 0, -7 ],
            "$screen_content": "redstone.panel",
            "$screen_bg_content": "common.screen_background",
            "$screen_background_alpha": 0.4
          }
        ]
      }
    ]
  }
}
